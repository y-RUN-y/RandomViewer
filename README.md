# RandomViewer

RandomViewer 是一个随机图片查看器，能够从指定文件夹中随机加载图片并进行浏览，支持图片缩放、拖动等操作，同时会记录图片的浏览状态。

## 功能特点

- 从指定文件夹中随机加载图片
- 支持鼠标拖动图片查看
- 鼠标滚轮缩放图片
- 记录图片浏览状态，避免重复查看
- 可删除不想要的图片（移至回收站）
- 自动保存窗口大小设置
- 支持多种图片格式（.jpg, .jpeg, .png, .bmp, .gif, .tiff, .webp, .jfif）

## 环境要求

- Python >= 3.13.5
- 依赖库：
  - PySide6 >= 6.9.1
  - send2trash >= 1.8.3
  - pyinstaller >= 6.15.0（用于打包）

## 安装与运行

### 使用 pixi 环境

1. 安装 [pixi](https://pixi.sh/) 包管理器
2. 克隆或下载项目代码
3. 进入项目目录
4. 运行以下命令创建并激活环境：
   ```bash
   pixi install
   pixi shell
   ```
5. 启动应用：
   ```bash
   python src/main.py
   ```

## 使用说明

1. **选择文件夹**：点击工具栏中的"选择文件夹"按钮，选择包含图片的文件夹
2. **重新扫描**：对当前已选择的文件夹重新扫描图片
3. **切换图片**：点击"切换图片"按钮加载下一张随机未浏览的图片
4. **删除当前图片**：点击"删除当前图片"按钮将当前图片移至回收站
5. **缩放图片**：使用鼠标滚轮进行缩放，缩放比例会显示在工具栏
6. **拖动图片**：按住鼠标左键拖动可移动图片位置

## 打包应用

如果需要将应用打包为可执行文件，可使用以下命令：

```bash
pixi run pyinstaller --name RandomViewer --icon=assert/icon.ico --windowed --onefile src/image_viewer.py
```

打包后的可执行文件会生成在 `dist` 目录下。

## 配置文件

应用配置存储在 `config.ini` 文件中，包含窗口大小和最后选择的图片文件夹路径等信息，会在应用关闭时自动保存。

## 数据存储

图片浏览状态存储在 `data.db` SQLite 数据库中，记录了图片路径和是否已浏览的状态。
